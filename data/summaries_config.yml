# Configuration for creating summary plots across assays.

# --------------------------------------------------------------------------------------
# Define how to create an integrated set of line plots and heat maps that summarizes
# antibody escape alongside other assays (eg, functional effects of mutations).
# --------------------------------------------------------------------------------------

summary_default: &summary_default
  min_times_seen: 2  # only include mutations with times_seen >= this
  min_frac_models: 1  # only include mutations in >= this fraction of models
  alphabet: [A, C, D, E, F, G, H, I, K, L, M, N, P, Q, R, S, T, V, W, Y]  # amino acids to include
  init_floor_escape_at_zero: true  # initially floor site escape to be >= 0?
  init_site_escape_stat: sum  # initially show site escape as this statistic

difference_default: &difference_default
  min_at_least: 0
  init_min_value: 0


entry_in_NeuAc_vs_NeuGc_cells:
  <<: *summary_default
  antibody_escape: {}
  other_phenotypes:
    entry in 293 cells:
      csv: results/func_effects/averages/293_entry_func_effects.csv  # CSV w data
      stat: effect  # column to plot
      positive_color: "#009E73"  # green
      negative_color: "#F0E442"  # yellow
      max_at_least: 2
      min_at_least: -2
      init_min_value: -3  # initial min value in slider
      le_filters:  # only keep entries with indicated column is <= indicated value
        effect_std: 3 
    entry in CMAH cells:
      csv: results/func_effects/averages/293_CMAH_entry_func_effects.csv  # CSV w data
      stat: effect  # column to plot
      positive_color: "#009E73"  # green
      negative_color: "#F0E442"  # yellow
      max_at_least: 2
      min_at_least: -2
      init_min_value: -3  # initial min value in slider
      le_filters:  # only keep entries with indicated column is <= indicated value
        effect_std: 3 
    NeuGc usage increase:
      <<: *difference_default
      csv: results/processed_results/increased_NeuGc_usage.csv
      stat: increase_NeuGc_usage
      positive_color: "#04D9FF"  # neon blue
      negative_color: "#7600bc"  # purple
      max_at_least: 1
      le_filters:
        increase_NeuGc_usage_std: 2